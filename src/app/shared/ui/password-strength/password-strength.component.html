<div class="password-strength-indicator">
  <!-- Strength bars -->
  <div class="flex space-x-1 mb-2">
    @for (level of strengthLevels; track level) {
    <div
      class="h-2 flex-1 rounded transition-colors duration-200"
      [class]="getStrengthBarClass(level)"
    ></div>
    }
  </div>

  <!-- Strength text -->
  <div class="flex justify-between items-center mb-2">
    <span class="text-sm font-medium" [class]="getStrengthTextClass()">
      {{ getStrengthText() }}
    </span>
    <span class="text-xs text-gray-500"> {{ score() }}/{{ maxScore }} </span>
  </div>

  <!-- Criteria checklist -->
  @if (showCriteria && password) {
  <div class="space-y-1">
    <div class="flex items-center space-x-2">
      <svg
        class="w-4 h-4"
        [class]="criteria().minLength ? 'text-green-500' : 'text-gray-400'"
        fill="currentColor"
        viewBox="0 0 20 20"
      >
        <path
          fill-rule="evenodd"
          d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
          clip-rule="evenodd"
        />
      </svg>
      <span
        class="text-xs"
        [class]="criteria().minLength ? 'text-green-700' : 'text-gray-600'"
      >
        At least {{ minLength }} characters
      </span>
    </div>

    <div class="flex items-center space-x-2">
      <svg
        class="w-4 h-4"
        [class]="criteria().hasLowercase ? 'text-green-500' : 'text-gray-400'"
        fill="currentColor"
        viewBox="0 0 20 20"
      >
        <path
          fill-rule="evenodd"
          d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
          clip-rule="evenodd"
        />
      </svg>
      <span
        class="text-xs"
        [class]="criteria().hasLowercase ? 'text-green-700' : 'text-gray-600'"
      >
        One lowercase letter
      </span>
    </div>

    <div class="flex items-center space-x-2">
      <svg
        class="w-4 h-4"
        [class]="criteria().hasUppercase ? 'text-green-500' : 'text-gray-400'"
        fill="currentColor"
        viewBox="0 0 20 20"
      >
        <path
          fill-rule="evenodd"
          d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
          clip-rule="evenodd"
        />
      </svg>
      <span
        class="text-xs"
        [class]="criteria().hasUppercase ? 'text-green-700' : 'text-gray-600'"
      >
        One uppercase letter
      </span>
    </div>

    <div class="flex items-center space-x-2">
      <svg
        class="w-4 h-4"
        [class]="criteria().hasNumber ? 'text-green-500' : 'text-gray-400'"
        fill="currentColor"
        viewBox="0 0 20 20"
      >
        <path
          fill-rule="evenodd"
          d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
          clip-rule="evenodd"
        />
      </svg>
      <span
        class="text-xs"
        [class]="criteria().hasNumber ? 'text-green-700' : 'text-gray-600'"
      >
        One number
      </span>
    </div>

    <div class="flex items-center space-x-2">
      <svg
        class="w-4 h-4"
        [class]="criteria().hasSpecialChar ? 'text-green-500' : 'text-gray-400'"
        fill="currentColor"
        viewBox="0 0 20 20"
      >
        <path
          fill-rule="evenodd"
          d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
          clip-rule="evenodd"
        />
      </svg>
      <span
        class="text-xs"
        [class]="criteria().hasSpecialChar ? 'text-green-700' : 'text-gray-600'"
      >
        One special character
      </span>
    </div>
  </div>
  }
</div>
